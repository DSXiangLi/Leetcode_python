给两个整数数组 A 和 B ，返回两个数组中公共的、长度最长的子数组的长度。

 

示例：

输入：
A: [1,2,3,2,1]
B: [3,2,1,4,7]
输出：3
解释：
长度最长的公共子数组是 [3, 2, 1] 。

 

提示：

    1 <= len(A), len(B) <= 1000
    0 <= A[i], B[i] < 100



```python
class Solution:
    def findLength(self, nums1: List[int], nums2: List[int]) -> int:
        l1 = len(nums1)+1
        l2 = len(nums2)+1
        dp = [0] * l2
        max_len = 0 
        for i in range(1, l1):
            for j in range(l2-1, 0, -1):
                if nums1[i-1] ==nums2[j-1]:
                    dp[j] = dp[j-1]+ 1 # 这里要反向遍历，因为如果正向有两个相邻元素=nums[i]会overwrite
                    max_len = max(max_len , dp[j])
                else:
                    dp[j] = 0 

        return max_len 
```



Tips

1. 这里可以把二维dp数组压缩到一维，因为二维计算的状态转移是$dp[i][j] = dp[i-1][j-1]$只依赖上一个对角线元素，所以可以压缩到一维$dp[j] = dp[j-1]+ 1$
2. 初始化都是0
3. 需要注意遍历顺序，如果正向遍历nums2有两个连续相同的数值的话，在正向遍历时会overwrite，所以要反向遍历